var historique=[];function enregistrerRecherche(a){a=a.trim();0<a.length&&!historique.includes(a)&&(envoyerRecherche(a),historique.push(a))}function envoyerRecherche(a){$.ajax({url:urlHistoriqueRecherche+"?valeur="+a+"&provenance=carte&g_cn_cod="+g_cn_cod+"&nb_resultat="+allcandidates.length+"&nb_resultat_geo="+tmp_i,type:"GET",dataType:"text",success:function(b,c){},error:function(b,c,d){}})}window.bindEscapeModalePopover=function(){bindEscape()};
function bindEscape(){document.addEventListener("keydown",function(a){27===a.keyCode&&$(".modal").modal("hide")})}$(document).keyup(function(a){27===a.which&&$("[data-toggle=popover]").popover("hide")});
$(document).ready(function(){$(".modal").on("shown.bs.modal",function(){if($(this).hasClass("modal-video-parcoursup")){$(this).find(".modal-header button").focus();var a=$(this).find("iframe").id,b=document.getElementById(a).contentWindow.document;a=$(this).find("a[href]:visible:not([disabled]),button:visible:not([disabled]),textarea:visible:not([disabled]),input:visible:not([disabled]),select:visible:not([disabled])");b=$(b).find("a[href]:visible:not([disabled]),button:visible:not([disabled]),textarea:visible:not([disabled]),input:visible:not([disabled]),select:visible:not([disabled])");
$.merge(a,b)}bindEscape()});$(".btn-video-carte").click(function(){var a=$(this).attr("data-modale-id");$("#"+a).modal("show")});$("#modal-video-parcoursup").on("hidden.bs.modal",function(){$("#iframe-video-parcoursup-recherche").attr("src",$("#iframe-video-parcoursup-recherche").attr("src"));$("button[data-modale-id="+this.id+"]").focus()});$("#id-script-carte").attr("data-reset")&&"true"==$("#id-script-carte").attr("data-reset")&&($("#id-script-carte").attr("data-reset",!1),sessionStorage.removeItem("compar0"),
sessionStorage.removeItem("carte_psup"))});
